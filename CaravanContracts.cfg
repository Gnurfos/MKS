CONTRACT_GROUP
{
    name = MKS_Caravan_Group
    displayName = MKS Caravans
    minVersion = 1.22.2
    agent = Integrated Integrals
}

CONTRACT_TYPE
{
    name = MKS_Caravan
    group = MKS_Caravan_Group
    title = Establish a trade route
    genericTitle = Establish a trade route
    description = A more detailed description of the contract
    genericDescription = This is the generic description
    synopsis = You must visit the origin and the destination
    completedMessage =  Trade route established !
    minExpiry = 0.0
    maxExpiry = 0.0
    maxSimultaneous = 100
    
    DATA
    {
        type = int
        title = Vessel ID
        uniquenessCheck = CONTRACT_ACTIVE
        vesselTrackerId = Random(1, 999999)
    }
   
    DATA
    {
        type = string
        title = Vessel Label
        uniquenessCheck = CONTRACT_ACTIVE
        vesselTrackerLabel = @/vesselTrackerId
    }    

    PARAMETER
    {
        name = VesselParameterGroupDefine
        type = VesselParameterGroup
        title = Launch caravan vessel @/vesselTrackerLabel
        define = @/vesselTrackerLabel
		hideVesselName = true
		dissassociateVesselsOnContractCompletion = true
		disableOnStateChange = false
    
        PARAMETER
        {
            name = HasPartWithModule
            type = HasPartWithModule
            moduleName = WolfCargoModule
            disableOnStateChange = false
        }

    }
    
    PARAMETER
    {
        name = VesselParameterGroupCatch1
        type = VesselParameterGroup
        title = Bring the vessel to the trade route origin
        vessel = @/vesselTrackerLabel
        
        PARAMETER
        {
            name = HasPartWithModule
            type = HasPartWithModule
            moduleName = WolfCargoModule
            disableOnStateChange = false
        }
        
        PARAMETER
        {
            name = BeAtOrigin
            type = CaravanEndPointParameter
            title = Visit the trade route origin
            targetBody = HomeWorld()
            situation = LANDED
            disableOnStateChange = false
        }
    }
    
    PARAMETER
    {
        name = VesselParameterGroupCatch2
        type = VesselParameterGroup
        title = Bring the vessel to the trade route destination
        vessel = @/vesselTrackerLabel
        completeInSequence = true
        
        PARAMETER
        {
            name = HasPartWithModule
            type = HasPartWithModule
            moduleName = WolfCargoModule
            disableOnStateChange = false
        }
        
        PARAMETER
        {
            name = BeAtDestination
            type = CaravanEndPointParameter
            title = Visit the trade route destination
            targetBody = HomeWorld()
            situation = LANDED
        }
    }

    REQUIREMENT
    {
        name = Never
        title = Never
        type = Expression
        expression = false
        checkOnActiveContract = false
    }

}

